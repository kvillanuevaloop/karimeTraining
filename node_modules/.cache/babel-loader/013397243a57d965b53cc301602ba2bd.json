{"ast":null,"code":"var _jsxFileName = \"/Users/karimevillanueva/Desktop/Practico/karimeTraining/src/components/Board.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addColumn, deleteBoard, deleteColumn, deleteCard, addInitialColumns } from \"../reducers/boardSlice\";\nimport { useDrop } from \"react-dnd\";\nimport api from '../api';\nimport Column from \"../components/Column\";\nimport Modal from 'react-modal';\nimport Types from \"../utils/\";\nimport \"./Board.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nModal.setAppElement(document.getElementById('root'));\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)'\n  }\n};\nexport default function Board() {\n  _s();\n\n  const currentBoardId = useSelector(state => state.boards.currentBoardId);\n  const columns = useSelector(state => state.boards.list[state.boards.list.map(element => element.id).indexOf(state.boards.currentBoardId)].columns);\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState('');\n  const [modalItem, setItem] = useState(null);\n  const [, drop] = useDrop(() => ({\n    accept: [Types.board, Types.columns, Types.cards],\n    drop: item => {\n      setItem(item);\n    },\n    collect: monitor => ({\n      isOver: !!monitor.isOver()\n    })\n  }));\n\n  const performAction = async () => {\n    switch (modalItem.type) {\n      case Types.board:\n        await api.BOARDS.delete(modalItem.id);\n        deleteBoardFunc(modalItem.id);\n        break;\n\n      case Types.columns:\n        await api.COLUMNS.delete(currentBoardId, modalItem.id);\n        deleteColumnFunc(modalItem.id);\n        break;\n\n      default:\n        await api.CARDS.delete(currentBoardId, modalItem.idColumn, modalItem.idCard);\n        deleteCardFunc({\n          idCard: modalItem.idCard,\n          idColumn: modalItem.idColumn\n        });\n    }\n\n    setItem(null);\n  };\n\n  const deleteBoardFunc = id => {\n    dispatch(deleteBoard(id));\n  };\n\n  const deleteColumnFunc = id => {\n    dispatch(deleteColumn(id));\n  };\n\n  const deleteCardFunc = _ref => {\n    let {\n      idCard,\n      idColumn\n    } = _ref;\n    dispatch(deleteCard({\n      idCard: idCard,\n      idColumn: idColumn\n    }));\n  };\n\n  function closeModal() {\n    setItem(null);\n  }\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await api.COLUMNS.get(currentBoardId);\n      dispatch(addInitialColumns(result));\n    };\n\n    fetchData();\n  }, [currentBoardId, dispatch]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"component-board\",\n      children: [columns.map(column => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Column, {\n          column: column\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)\n      }, column.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"component-column button-add\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"field-input\",\n          type: \"text\",\n          placeholder: \"Enter column title\",\n          onChange: event => setTitle(event.target.value),\n          value: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"create-button\",\n          onClick: async () => {\n            const newColumn = await api.COLUMNS.post(currentBoardId, title);\n            dispatch(addColumn(newColumn));\n            setTitle(\"\");\n          },\n          disabled: title === \"\",\n          children: \"Create Column\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button-delete\",\n      ref: drop,\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: modalItem !== null,\n      onRequestClose: closeModal,\n      style: customStyles,\n      contentLabel: \"Example Modal\",\n      children: [modalItem !== null && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Are you sure you want to delete the \", modalItem.type, \"?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 32\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: closeModal,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: performAction,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Board, \"a51TrE7RvU2A7va9QByDy12WgG8=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useDrop];\n});\n\n_c = Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"names":["React","useState","useEffect","useSelector","useDispatch","addColumn","deleteBoard","deleteColumn","deleteCard","addInitialColumns","useDrop","api","Column","Modal","Types","setAppElement","document","getElementById","customStyles","content","top","left","right","bottom","marginRight","transform","Board","currentBoardId","state","boards","columns","list","map","element","id","indexOf","dispatch","title","setTitle","modalItem","setItem","drop","accept","board","cards","item","collect","monitor","isOver","performAction","type","BOARDS","delete","deleteBoardFunc","COLUMNS","deleteColumnFunc","CARDS","idColumn","idCard","deleteCardFunc","closeModal","fetchData","result","get","column","event","target","value","newColumn","post"],"sources":["/Users/karimevillanueva/Desktop/Practico/karimeTraining/src/components/Board.js"],"sourcesContent":["import React, { useState, useEffect} from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addColumn, deleteBoard, deleteColumn, deleteCard, addInitialColumns } from \"../reducers/boardSlice\";\nimport { useDrop } from \"react-dnd\";\nimport api from '../api';\nimport Column from \"../components/Column\";\nimport Modal from 'react-modal';\nimport Types from \"../utils/\";\nimport \"./Board.scss\";\n\nModal.setAppElement(document.getElementById('root'));\n\nconst customStyles = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n  },\n};\n\nexport default function Board() {\n  const currentBoardId = useSelector((state) => state.boards.currentBoardId);\n  const columns = useSelector((state) => state.boards.list[state.boards.list.map((element) => element.id).indexOf(state.boards.currentBoardId)].columns);\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState('');\n  const [modalItem, setItem] = useState(null);\n  \n  const [, drop] = useDrop( () => ({\n    accept: [Types.board, Types.columns, Types.cards],\n    drop: (item) => {\n        setItem(item);\n    },\n    collect: (monitor)=>({\n      isOver: !!monitor.isOver(),\n  })\n  }))\n\n  const performAction = async () => {\n    switch (modalItem.type) {\n      case Types.board:\n          await api.BOARDS.delete(modalItem.id);\n          deleteBoardFunc(modalItem.id);\n          break;\n      case Types.columns :\n          await api.COLUMNS.delete(currentBoardId, modalItem.id);\n          deleteColumnFunc(modalItem.id);\n          break;\n      default:\n          await api.CARDS.delete(currentBoardId, modalItem.idColumn, modalItem.idCard)\n          deleteCardFunc({\n            idCard: modalItem.idCard,\n            idColumn: modalItem.idColumn,\n          });\n    }\n    setItem(null);\n  }\n\n  const deleteBoardFunc = (id) => {dispatch(deleteBoard(id))};\n  const deleteColumnFunc = (id) => {dispatch(deleteColumn(id))};\n  const deleteCardFunc = ({idCard,idColumn}) => {dispatch(deleteCard({idCard: idCard,idColumn: idColumn}))};\n\n  function closeModal() {\n    setItem(null);\n  }\n\n  useEffect(()=>{\n    const fetchData = async () => {\n      const result = await api.COLUMNS.get(currentBoardId);\n      dispatch(addInitialColumns(result));\n    };\n    fetchData();\n  },[currentBoardId, dispatch]);\n\n  return (\n    <>\n      <div className=\"component-board\">\n        {columns.map((column) => (\n          <div key={column.id}>\n            <Column column={column} />\n          </div>\n        ))}\n        <div className=\"component-column button-add\">\n          <input\n            className=\"field-input\"\n            type=\"text\"\n            placeholder=\"Enter column title\"\n            onChange={(event) => setTitle(event.target.value)}\n            value={title}\n          />\n          <button\n            className=\"create-button\"\n            onClick={async () => {\n              const newColumn = await api.COLUMNS.post(currentBoardId,title);\n              dispatch(addColumn(newColumn));\n              setTitle(\"\");\n            }}\n            disabled={title === \"\"}\n          >\n            Create Column\n          </button>\n        </div>\n\n      </div>\n      <button className=\"button-delete\" ref={drop}>\n        Delete\n      </button>\n      <Modal\n        isOpen={modalItem !== null}\n        onRequestClose={closeModal}\n        style={customStyles}\n        contentLabel=\"Example Modal\"\n      >\n        {modalItem !== null && <h2>Are you sure you want to delete the {modalItem.type}?</h2>}\n          <button onClick={closeModal}>Close</button>\n          <button onClick={performAction}>Delete</button>\n      </Modal>\n    </>\n  );\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,SAAT,EAAoBC,WAApB,EAAiCC,YAAjC,EAA+CC,UAA/C,EAA2DC,iBAA3D,QAAoF,wBAApF;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,OAAOC,GAAP,MAAgB,QAAhB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,WAAlB;AACA,OAAO,cAAP;;;AAEAD,KAAK,CAACE,aAAN,CAAoBC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAApB;AAEA,MAAMC,YAAY,GAAG;EACnBC,OAAO,EAAE;IACPC,GAAG,EAAE,KADE;IAEPC,IAAI,EAAE,KAFC;IAGPC,KAAK,EAAE,MAHA;IAIPC,MAAM,EAAE,MAJD;IAKPC,WAAW,EAAE,MALN;IAMPC,SAAS,EAAE;EANJ;AADU,CAArB;AAWA,eAAe,SAASC,KAAT,GAAiB;EAAA;;EAC9B,MAAMC,cAAc,GAAGxB,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAaF,cAAzB,CAAlC;EACA,MAAMG,OAAO,GAAG3B,WAAW,CAAEyB,KAAD,IAAWA,KAAK,CAACC,MAAN,CAAaE,IAAb,CAAkBH,KAAK,CAACC,MAAN,CAAaE,IAAb,CAAkBC,GAAlB,CAAuBC,OAAD,IAAaA,OAAO,CAACC,EAA3C,EAA+CC,OAA/C,CAAuDP,KAAK,CAACC,MAAN,CAAaF,cAApE,CAAlB,EAAuGG,OAAnH,CAA3B;EACA,MAAMM,QAAQ,GAAGhC,WAAW,EAA5B;EACA,MAAM,CAACiC,KAAD,EAAQC,QAAR,IAAoBrC,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACsC,SAAD,EAAYC,OAAZ,IAAuBvC,QAAQ,CAAC,IAAD,CAArC;EAEA,MAAM,GAAGwC,IAAH,IAAW/B,OAAO,CAAE,OAAO;IAC/BgC,MAAM,EAAE,CAAC5B,KAAK,CAAC6B,KAAP,EAAc7B,KAAK,CAACgB,OAApB,EAA6BhB,KAAK,CAAC8B,KAAnC,CADuB;IAE/BH,IAAI,EAAGI,IAAD,IAAU;MACZL,OAAO,CAACK,IAAD,CAAP;IACH,CAJ8B;IAK/BC,OAAO,EAAGC,OAAD,KAAY;MACnBC,MAAM,EAAE,CAAC,CAACD,OAAO,CAACC,MAAR;IADS,CAAZ;EALsB,CAAP,CAAF,CAAxB;;EAUA,MAAMC,aAAa,GAAG,YAAY;IAChC,QAAQV,SAAS,CAACW,IAAlB;MACE,KAAKpC,KAAK,CAAC6B,KAAX;QACI,MAAMhC,GAAG,CAACwC,MAAJ,CAAWC,MAAX,CAAkBb,SAAS,CAACL,EAA5B,CAAN;QACAmB,eAAe,CAACd,SAAS,CAACL,EAAX,CAAf;QACA;;MACJ,KAAKpB,KAAK,CAACgB,OAAX;QACI,MAAMnB,GAAG,CAAC2C,OAAJ,CAAYF,MAAZ,CAAmBzB,cAAnB,EAAmCY,SAAS,CAACL,EAA7C,CAAN;QACAqB,gBAAgB,CAAChB,SAAS,CAACL,EAAX,CAAhB;QACA;;MACJ;QACI,MAAMvB,GAAG,CAAC6C,KAAJ,CAAUJ,MAAV,CAAiBzB,cAAjB,EAAiCY,SAAS,CAACkB,QAA3C,EAAqDlB,SAAS,CAACmB,MAA/D,CAAN;QACAC,cAAc,CAAC;UACbD,MAAM,EAAEnB,SAAS,CAACmB,MADL;UAEbD,QAAQ,EAAElB,SAAS,CAACkB;QAFP,CAAD,CAAd;IAXN;;IAgBAjB,OAAO,CAAC,IAAD,CAAP;EACD,CAlBD;;EAoBA,MAAMa,eAAe,GAAInB,EAAD,IAAQ;IAACE,QAAQ,CAAC9B,WAAW,CAAC4B,EAAD,CAAZ,CAAR;EAA0B,CAA3D;;EACA,MAAMqB,gBAAgB,GAAIrB,EAAD,IAAQ;IAACE,QAAQ,CAAC7B,YAAY,CAAC2B,EAAD,CAAb,CAAR;EAA2B,CAA7D;;EACA,MAAMyB,cAAc,GAAG,QAAuB;IAAA,IAAtB;MAACD,MAAD;MAAQD;IAAR,CAAsB;IAACrB,QAAQ,CAAC5B,UAAU,CAAC;MAACkD,MAAM,EAAEA,MAAT;MAAgBD,QAAQ,EAAEA;IAA1B,CAAD,CAAX,CAAR;EAA0D,CAAzG;;EAEA,SAASG,UAAT,GAAsB;IACpBpB,OAAO,CAAC,IAAD,CAAP;EACD;;EAEDtC,SAAS,CAAC,MAAI;IACZ,MAAM2D,SAAS,GAAG,YAAY;MAC5B,MAAMC,MAAM,GAAG,MAAMnD,GAAG,CAAC2C,OAAJ,CAAYS,GAAZ,CAAgBpC,cAAhB,CAArB;MACAS,QAAQ,CAAC3B,iBAAiB,CAACqD,MAAD,CAAlB,CAAR;IACD,CAHD;;IAIAD,SAAS;EACV,CANQ,EAMP,CAAClC,cAAD,EAAiBS,QAAjB,CANO,CAAT;EAQA,oBACE;IAAA,wBACE;MAAK,SAAS,EAAC,iBAAf;MAAA,WACGN,OAAO,CAACE,GAAR,CAAagC,MAAD,iBACX;QAAA,uBACE,QAAC,MAAD;UAAQ,MAAM,EAAEA;QAAhB;UAAA;UAAA;UAAA;QAAA;MADF,GAAUA,MAAM,CAAC9B,EAAjB;QAAA;QAAA;QAAA;MAAA,QADD,CADH,eAME;QAAK,SAAS,EAAC,6BAAf;QAAA,wBACE;UACE,SAAS,EAAC,aADZ;UAEE,IAAI,EAAC,MAFP;UAGE,WAAW,EAAC,oBAHd;UAIE,QAAQ,EAAG+B,KAAD,IAAW3B,QAAQ,CAAC2B,KAAK,CAACC,MAAN,CAAaC,KAAd,CAJ/B;UAKE,KAAK,EAAE9B;QALT;UAAA;UAAA;UAAA;QAAA,QADF,eAQE;UACE,SAAS,EAAC,eADZ;UAEE,OAAO,EAAE,YAAY;YACnB,MAAM+B,SAAS,GAAG,MAAMzD,GAAG,CAAC2C,OAAJ,CAAYe,IAAZ,CAAiB1C,cAAjB,EAAgCU,KAAhC,CAAxB;YACAD,QAAQ,CAAC/B,SAAS,CAAC+D,SAAD,CAAV,CAAR;YACA9B,QAAQ,CAAC,EAAD,CAAR;UACD,CANH;UAOE,QAAQ,EAAED,KAAK,KAAK,EAPtB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARF;MAAA;QAAA;QAAA;QAAA;MAAA,QANF;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eA6BE;MAAQ,SAAS,EAAC,eAAlB;MAAkC,GAAG,EAAEI,IAAvC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QA7BF,eAgCE,QAAC,KAAD;MACE,MAAM,EAAEF,SAAS,KAAK,IADxB;MAEE,cAAc,EAAEqB,UAFlB;MAGE,KAAK,EAAE1C,YAHT;MAIE,YAAY,EAAC,eAJf;MAAA,WAMGqB,SAAS,KAAK,IAAd,iBAAsB;QAAA,mDAAyCA,SAAS,CAACW,IAAnD;MAAA;QAAA;QAAA;QAAA;MAAA,QANzB,eAOI;QAAQ,OAAO,EAAEU,UAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAPJ,eAQI;QAAQ,OAAO,EAAEX,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QARJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAhCF;EAAA,gBADF;AA6CD;;GAlGuBvB,K;UACCvB,W,EACPA,W,EACCC,W,EAIAM,O;;;KAPKgB,K"},"metadata":{},"sourceType":"module"}