{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n\nfunction indexBoard(state) {\n  return state.list.map(element => element.id).indexOf(state.currentBoardId);\n}\n\n;\nexport const boardSlice = createSlice({\n  name: \"boards\",\n  initialState: {\n    list: [],\n    currentBoardId: 0,\n    idBoard: -1,\n    idColumn: -1,\n    idCard: -1\n  },\n  reducers: {\n    addBoard: (state, action) => {\n      state.idBoard += 1;\n      state.list.push({\n        id: state.idBoard,\n        title: action.payload,\n        columns: []\n      });\n    },\n    addColumn: (state, action) => {\n      state.idColumn += 1;\n      state.list[indexBoard(state)].columns.push({\n        id: state.idColumn,\n        title: action.payload,\n        cards: []\n      });\n    },\n    changeBoard: (state, action) => {\n      state.currentBoardId = action.payload;\n    },\n    deleteBoard: (state, action) => {\n      const element = state.list.find(element => element.id === action.payload);\n      state.list = state.list.filter(item => item !== element);\n      state.currentBoardId = 0;\n    },\n    deleteColumn: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find(element => element.id === action.payload);\n      state.list[indexBoard(state)].columns = state.list[state.currentBoardId].columns.filter(item => item !== element);\n    },\n    addCard: (state, action) => {\n      state.idCard += 1;\n      const columns = state.list[indexBoard(state)].columns;\n      const index = columns.map(element => element.id).indexOf(action.payload);\n      columns[index].cards.push({\n        id: state.idCard,\n        title: \"Nueva card\"\n      });\n    },\n    changeCardTitle: (state, action) => {\n      const column = state.list[indexBoard(state)].columns[action.payload.columnId];\n      const cardIndex = column.cards.map(element => element.id).indexOf(action.payload.cardId);\n      column.cards[cardIndex].title = action.payload.newTitle;\n    },\n    deleteCard: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards.find(element => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards = state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards.filter(item => item !== element);\n    },\n    changeColumnTitle: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardIndex = columns.map(element => element.id).indexOf(action.payload.id);\n      columns[cardIndex].title = action.payload.newTitle;\n    },\n    moveCard: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardToMove = columns.find(element => element.id === action.payload.idColumn).cards.find(element => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards = columns.find(element => element.id === action.payload.idColumn).cards.filter(element => element.id !== cardToMove.id);\n      const arrayPosition = Math.floor((action.payload.y - 150) / 75) + 1;\n      const index = action.payload.y < 150 ? 0 : arrayPosition < columns.find(element => element.id === action.payload.newIdColumn).cards.length ? arrayPosition : columns.find(element => element.id === action.payload.newIdColumn).cards.length;\n      columns.find(element => element.id === action.payload.newIdColumn).cards.splice(index, 0, cardToMove);\n    }\n  }\n}); // Action creators are generated for each case reducer function\n\nexport const {\n  addBoard,\n  addColumn,\n  changeBoard,\n  deleteBoard,\n  deleteColumn,\n  addCard,\n  changeCardTitle,\n  deleteCard,\n  changeColumnTitle,\n  moveCard\n} = boardSlice.actions;\nexport default boardSlice.reducer;","map":{"version":3,"names":["createSlice","indexBoard","state","list","map","element","id","indexOf","currentBoardId","boardSlice","name","initialState","idBoard","idColumn","idCard","reducers","addBoard","action","push","title","payload","columns","addColumn","cards","changeBoard","deleteBoard","find","filter","item","deleteColumn","addCard","index","changeCardTitle","column","columnId","cardIndex","cardId","newTitle","deleteCard","changeColumnTitle","moveCard","cardToMove","arrayPosition","Math","floor","y","newIdColumn","length","splice","actions","reducer"],"sources":["/Users/karimevillanueva/Desktop/Practico/karimeTraining/src/reducers/boardSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nfunction indexBoard (state) { return state.list.map((element) => element.id).indexOf(state.currentBoardId)};\n\nexport const boardSlice = createSlice({\n  name: \"boards\",\n  initialState: {\n    list: [],\n    currentBoardId: 0,\n    idBoard: -1,\n    idColumn: -1,\n    idCard: -1,\n  },\n  reducers: {\n    addBoard: (state, action) => {\n      state.idBoard += 1;\n      state.list.push({\n        id: state.idBoard,\n        title: action.payload,\n        columns: [],\n      });\n    },\n    addColumn: (state, action) => {\n      state.idColumn += 1;\n      state.list[indexBoard(state)].columns.push({\n        id: state.idColumn,\n        title: action.payload,\n        cards: [],\n      });\n    },\n    changeBoard: (state, action) => {\n      state.currentBoardId = action.payload;\n    },\n    deleteBoard: (state, action) => {\n      const element = state.list.find(\n        (element) => element.id === action.payload\n      );\n      state.list = state.list.filter((item) => item !== element);\n      state.currentBoardId = 0;\n    },\n    deleteColumn: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find(\n        (element) => element.id === action.payload\n      );\n      state.list[indexBoard(state)].columns = state.list[\n        state.currentBoardId\n      ].columns.filter((item) => item !== element);\n    },\n    addCard: (state, action) => {\n      state.idCard += 1;\n      const columns = state.list[indexBoard(state)].columns;\n      const index = columns\n        .map((element) => element.id)\n        .indexOf(action.payload);\n      columns[index].cards.push({ id: state.idCard, title: \"Nueva card\" });\n    },\n    changeCardTitle: (state, action) => {\n      const column =\n        state.list[indexBoard(state)].columns[action.payload.columnId];\n      const cardIndex = column.cards\n        .map((element) => element.id)\n        .indexOf(action.payload.cardId);\n      column.cards[cardIndex].title = action.payload.newTitle;\n    },\n    deleteCard: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards.find((element) => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards =\n        state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards.filter((item) => item !== element);\n    },\n    changeColumnTitle: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardIndex = columns\n        .map((element) => element.id)\n        .indexOf(action.payload.id);\n      columns[cardIndex].title = action.payload.newTitle;\n    },\n    moveCard: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardToMove = columns.find((element) => element.id === action.payload.idColumn).cards.find((element) => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards = columns.find((element) => element.id === action.payload.idColumn).cards.filter((element) => element.id !== cardToMove.id);\n      const arrayPosition = Math.floor((action.payload.y - 150) / (75)) + 1;\n      const index =\n        action.payload.y < 150\n          ? 0\n          : arrayPosition < columns.find((element) => element.id === action.payload.newIdColumn).cards.length\n          ? arrayPosition\n          : columns.find((element) => element.id === action.payload.newIdColumn).cards.length;\n      columns.find((element) => element.id === action.payload.newIdColumn).cards.splice(index,0,cardToMove);\n    }\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  addBoard,\n  addColumn,\n  changeBoard,\n  deleteBoard,\n  deleteColumn,\n  addCard,\n  changeCardTitle,\n  deleteCard,\n  changeColumnTitle,\n  moveCard,\n} = boardSlice.actions;\n\nexport default boardSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}