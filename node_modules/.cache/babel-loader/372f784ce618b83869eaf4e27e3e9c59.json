{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\n\nfunction indexBoard(state) {\n  return state.list.map(element => element.currentBoardId).indexOf(state.currentBoardId);\n}\n\n;\nexport const boardSlice = createSlice({\n  name: \"boards\",\n  initialState: {\n    list: [],\n    currentBoardId: 0,\n    idBoard: -1,\n    idColumn: -1,\n    idCard: -1\n  },\n  reducers: {\n    addBoard: (state, action) => {\n      state.idBoard += 1;\n      state.list.push({\n        id: state.idBoard,\n        title: action.payload,\n        columns: []\n      });\n    },\n    addColumn: (state, action) => {\n      state.idColumn += 1;\n      state.list[indexBoard(state)].columns.push({\n        id: state.idColumn,\n        title: action.payload,\n        cards: []\n      });\n    },\n    changeBoard: (state, action) => {\n      state.currentBoardId = action.payload;\n    },\n    deleteBoard: (state, action) => {\n      const element = state.list.find(element => element.id === action.payload);\n      state.list = state.list.filter(item => item !== element);\n      state.currentBoardId = 0;\n    },\n    deleteColumn: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find(element => element.id === action.payload);\n      state.list[indexBoard(state)].columns = state.list[state.currentBoardId].columns.filter(item => item !== element);\n    },\n    addCard: (state, action) => {\n      state.idCard += 1;\n      const columns = state.list[indexBoard(state)].columns;\n      const index = columns.map(element => element.id).indexOf(action.payload);\n      columns[index].cards.push({\n        id: state.idCard,\n        title: \"Nueva card\"\n      });\n    },\n    changeCardTitle: (state, action) => {\n      const column = state.list[indexBoard(state)].columns[action.payload.columnId];\n      const cardIndex = column.cards.map(element => element.id).indexOf(action.payload.cardId);\n      column.cards[cardIndex].title = action.payload.newTitle;\n    },\n    deleteCard: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards.find(element => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards = state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards.filter(item => item !== element);\n    },\n    changeColumnTitle: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardIndex = columns.map(element => element.id).indexOf(action.payload.id);\n      columns[cardIndex].title = action.payload.newTitle;\n    },\n    moveCard: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardToMove = columns.find(element => element.id === action.payload.idColumn).cards.find(element => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find(element => element.id === action.payload.idColumn).cards = columns.find(element => element.id === action.payload.idColumn).cards.filter(element => element.id !== cardToMove.id);\n      const arrayPosition = Math.floor((action.payload.y - 150) / 75) + 1;\n      const index = action.payload.y < 150 ? 0 : arrayPosition < columns.find(element => element.id === action.payload.newIdColumn).cards.length ? arrayPosition : columns.find(element => element.id === action.payload.newIdColumn).cards.length;\n      columns.find(element => element.id === action.payload.newIdColumn).cards.splice(index, 0, cardToMove);\n    }\n  }\n}); // Action creators are generated for each case reducer function\n\nexport const {\n  addBoard,\n  addColumn,\n  changeBoard,\n  deleteBoard,\n  deleteColumn,\n  addCard,\n  changeCardTitle,\n  deleteCard,\n  changeColumnTitle,\n  moveCard\n} = boardSlice.actions;\nexport default boardSlice.reducer;","map":{"version":3,"names":["createSlice","indexBoard","state","list","map","element","currentBoardId","indexOf","boardSlice","name","initialState","idBoard","idColumn","idCard","reducers","addBoard","action","push","id","title","payload","columns","addColumn","cards","changeBoard","deleteBoard","find","filter","item","deleteColumn","addCard","index","changeCardTitle","column","columnId","cardIndex","cardId","newTitle","deleteCard","changeColumnTitle","moveCard","cardToMove","arrayPosition","Math","floor","y","newIdColumn","length","splice","actions","reducer"],"sources":["/Users/karimevillanueva/Desktop/Practico/karimeTraining/src/reducers/boardSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nfunction indexBoard (state) { return state.list.map((element) => element.currentBoardId).indexOf(state.currentBoardId)};\n\nexport const boardSlice = createSlice({\n  name: \"boards\",\n  initialState: {\n    list: [],\n    currentBoardId: 0,\n    idBoard: -1,\n    idColumn: -1,\n    idCard: -1,\n  },\n  reducers: {\n    addBoard: (state, action) => {\n      state.idBoard += 1;\n      state.list.push({\n        id: state.idBoard,\n        title: action.payload,\n        columns: [],\n      });\n    },\n    addColumn: (state, action) => {\n      state.idColumn += 1;\n      state.list[indexBoard(state)].columns.push({\n        id: state.idColumn,\n        title: action.payload,\n        cards: [],\n      });\n    },\n    changeBoard: (state, action) => {\n      state.currentBoardId = action.payload;\n    },\n    deleteBoard: (state, action) => {\n      const element = state.list.find(\n        (element) => element.id === action.payload\n      );\n      state.list = state.list.filter((item) => item !== element);\n      state.currentBoardId = 0;\n    },\n    deleteColumn: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find(\n        (element) => element.id === action.payload\n      );\n      state.list[indexBoard(state)].columns = state.list[\n        state.currentBoardId\n      ].columns.filter((item) => item !== element);\n    },\n    addCard: (state, action) => {\n      state.idCard += 1;\n      const columns = state.list[indexBoard(state)].columns;\n      const index = columns\n        .map((element) => element.id)\n        .indexOf(action.payload);\n      columns[index].cards.push({ id: state.idCard, title: \"Nueva card\" });\n    },\n    changeCardTitle: (state, action) => {\n      const column =\n        state.list[indexBoard(state)].columns[action.payload.columnId];\n      const cardIndex = column.cards\n        .map((element) => element.id)\n        .indexOf(action.payload.cardId);\n      column.cards[cardIndex].title = action.payload.newTitle;\n    },\n    deleteCard: (state, action) => {\n      const element = state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards.find((element) => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards =\n        state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards.filter((item) => item !== element);\n    },\n    changeColumnTitle: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardIndex = columns\n        .map((element) => element.id)\n        .indexOf(action.payload.id);\n      columns[cardIndex].title = action.payload.newTitle;\n    },\n    moveCard: (state, action) => {\n      const columns = state.list[indexBoard(state)].columns;\n      const cardToMove = columns.find((element) => element.id === action.payload.idColumn).cards.find((element) => element.id === action.payload.idCard);\n      state.list[indexBoard(state)].columns.find((element) => element.id === action.payload.idColumn).cards = columns.find((element) => element.id === action.payload.idColumn).cards.filter((element) => element.id !== cardToMove.id);\n      const arrayPosition = Math.floor((action.payload.y - 150) / (75)) + 1;\n      const index =\n        action.payload.y < 150\n          ? 0\n          : arrayPosition < columns.find((element) => element.id === action.payload.newIdColumn).cards.length\n          ? arrayPosition\n          : columns.find((element) => element.id === action.payload.newIdColumn).cards.length;\n      columns.find((element) => element.id === action.payload.newIdColumn).cards.splice(index,0,cardToMove);\n    }\n  },\n});\n\n// Action creators are generated for each case reducer function\nexport const {\n  addBoard,\n  addColumn,\n  changeBoard,\n  deleteBoard,\n  deleteColumn,\n  addCard,\n  changeCardTitle,\n  deleteCard,\n  changeColumnTitle,\n  moveCard,\n} = boardSlice.actions;\n\nexport default boardSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}